(function(b){var a=typeof window==="undefined"?null:window;if(typeof define==="function"&&define.amd){define(function(){return b(a)})}else{if(typeof module!=="undefined"){module.exports=b(a)}else{a.DOMPurify=b(a)}}}(function factory(R){var J=function(ae){return factory(ae)};J.version="0.7.4";if(!R||!R.document||R.document.nodeType!==9){J.isSupported=false;return J}var f=R.document;var C=f;var i=R.DocumentFragment;var K=R.HTMLTemplateElement;var L=R.NodeFilter;var M=R.NamedNodeMap||R.MozNamedAttrMap;var x=R.Text;var D=R.Comment;var w=R.DOMParser;if(typeof K==="function"){var g=f.createElement("template");if(g.content&&g.content.ownerDocument){f=g.content.ownerDocument}}var z=f.implementation;var n=f.createNodeIterator;var A=f.getElementsByTagName;var y=f.createDocumentFragment;var W=C.importNode;var h={};J.isSupported=typeof z.createHTMLDocument!=="undefined"&&f.documentMode!==9;var P=function(ag,af){var ae=af.length;while(ae--){if(typeof af[ae]==="string"){af[ae]=af[ae].toLowerCase()}ag[af[ae]]=true}return ag};var Z=function(ae){var af={};var ag;for(ag in ae){if(ae.hasOwnProperty(ag)){af[ag]=ae[ag]}}return af};var H=null;var T=P({},["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text"]);var v=null;var E=P({},["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mode","min","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","surfacescale","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","y","y1","y2","z","zoomandpan","accent","accentunder","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","display","displaystyle","fence","frame","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var q=null;var c=null;var o=true;var k=false;var ad=false;var ac=false;var t=/\{\{[\s\S]*|[\s\S]*\}\}/gm;var V=/<%[\s\S]*|[\s\S]*%>/gm;var G=false;var N=false;var Q=false;var b=false;var p=true;var e=true;var I=P({},["audio","head","math","script","style","svg","video"]);var S=P({},["audio","video","img","source"]);var j=P({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]);var s=null;var ab=f.createElement("form");var r=function(ae){if(typeof ae!=="object"){ae={}}H="ALLOWED_TAGS" in ae?P({},ae.ALLOWED_TAGS):T;v="ALLOWED_ATTR" in ae?P({},ae.ALLOWED_ATTR):E;q="FORBID_TAGS" in ae?P({},ae.FORBID_TAGS):{};c="FORBID_ATTR" in ae?P({},ae.FORBID_ATTR):{};o=ae.ALLOW_DATA_ATTR!==false;k=ae.ALLOW_UNKNOWN_PROTOCOLS||false;ad=ae.SAFE_FOR_JQUERY||false;ac=ae.SAFE_FOR_TEMPLATES||false;G=ae.WHOLE_DOCUMENT||false;N=ae.RETURN_DOM||false;Q=ae.RETURN_DOM_FRAGMENT||false;b=ae.RETURN_DOM_IMPORT||false;p=ae.SANITIZE_DOM!==false;e=ae.KEEP_CONTENT!==false;if(ac){o=false}if(Q){N=true}if(ae.ADD_TAGS){if(H===T){H=Z(H)}P(H,ae.ADD_TAGS)}if(ae.ADD_ATTR){if(v===E){v=Z(v)}P(v,ae.ADD_ATTR)}if(e){H["#text"]=true}if(Object&&"freeze" in Object){Object.freeze(ae)}s=ae};var u=function(ae){try{ae.parentNode.removeChild(ae)}catch(af){ae.outerHTML=""}};var d=function(af){var ah,ae;try{ah=new w().parseFromString(af,"text/html")}catch(ag){}if(!ah){ah=z.createHTMLDocument("");ae=ah.body;ae.parentNode.removeChild(ae.parentNode.firstElementChild);ae.outerHTML=af}if(typeof ah.getElementsByTagName==="function"){return ah.getElementsByTagName(G?"html":"body")[0]}return A.call(ah,G?"html":"body")[0]};var a=function(ae){return n.call(ae.ownerDocument||ae,ae,L.SHOW_ELEMENT|L.SHOW_COMMENT|L.SHOW_TEXT,function(){return L.FILTER_ACCEPT},false)};var m=function(ae){if(ae instanceof x||ae instanceof D){return false}if(typeof ae.nodeName!=="string"||typeof ae.textContent!=="string"||typeof ae.removeChild!=="function"||!(ae.attributes instanceof M)||typeof ae.removeAttribute!=="function"||typeof ae.setAttribute!=="function"){return true}return false};var aa=function(af){var ae,ag;X("beforeSanitizeElements",af,null);if(m(af)){u(af);return true}ae=af.nodeName.toLowerCase();X("uponSanitizeElement",af,{tagName:ae});if(!H[ae]||q[ae]){if(e&&!I[ae]&&typeof af.insertAdjacentHTML==="function"){try{af.insertAdjacentHTML("AfterEnd",af.innerHTML)}catch(ah){}}u(af);return true}if(ad&&!af.firstElementChild&&(!af.content||!af.content.firstElementChild)){af.innerHTML=af.textContent.replace(/</g,"&lt;")}if(ac&&af.nodeType===3){ag=af.textContent;ag=ag.replace(t," ");ag=ag.replace(V," ");af.textContent=ag}X("afterSanitizeElements",af,null);return false};var B=/^data-[\w.\u00B7-\uFFFF-]/;var l=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i;var F=/^(?:\w+script|data):/i;var Y=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;var O=function(af){var ak,ae,al,an,ai,ah,am,ag;X("beforeSanitizeAttributes",af,null);ah=af.attributes;if(!ah){return}am={attrName:"",attrValue:"",keepAttr:true};ag=ah.length;while(ag--){ak=ah[ag];ae=ak.name;al=ak.value;an=ae.toLowerCase();am.attrName=an;am.attrValue=al;am.keepAttr=true;X("uponSanitizeAttribute",af,am);al=am.attrValue;if(an==="name"&&af.nodeName==="IMG"&&ah.id){ai=ah.id;ah=Array.prototype.slice.apply(ah);af.removeAttribute("id");af.removeAttribute(ae);if(ah.indexOf(ai)>ag){af.setAttribute("id",ai.value)}}else{if(ae==="id"){af.setAttribute(ae,"")}af.removeAttribute(ae)}if(!am.keepAttr){continue}if(p&&(an==="id"||an==="name")&&(al in R||al in f||al in ab)){continue}if(ac){al=al.replace(t," ");al=al.replace(V," ")}if((v[an]&&!c[an]&&(j[an]||l.test(al.replace(Y,""))||(an==="src"&&al.indexOf("data:")===0&&S[af.nodeName.toLowerCase()])))||(o&&B.test(an))||(k&&!F.test(al.replace(Y,"")))){try{af.setAttribute(ae,al)}catch(aj){}}}X("afterSanitizeAttributes",af,null)};var U=function(ae){var ag;var af=a(ae);X("beforeSanitizeShadowDOM",ae,null);while((ag=af.nextNode())){X("uponSanitizeShadowNode",ag,null);if(aa(ag)){continue}if(ag.content instanceof i){U(ag.content)}O(ag)}X("afterSanitizeShadowDOM",ae,null)};var X=function(ag,ae,af){if(!h[ag]){return}h[ag].forEach(function(ah){ah.call(J,ae,af,s)})};J.sanitize=function(ai,af){var ae,ah,ak,aj,ag;if(!ai){ai=""}if(typeof ai!=="string"){if(typeof ai.toString!=="function"){throw new TypeError("toString is not a function")}else{ai=ai.toString()}}if(!J.isSupported){if(typeof R.toStaticHTML==="object"||typeof R.toStaticHTML==="function"){return R.toStaticHTML(ai)}return ai}r(af);if(!N&&!G&&ai.indexOf("<")===-1){return ai}ae=d(ai);if(!ae){return N?null:""}aj=a(ae);while((ah=aj.nextNode())){if(ah.nodeType===3&&ah===ak){continue}if(aa(ah)){continue}if(ah.content instanceof i){U(ah.content)}O(ah);ak=ah}if(N){if(Q){ag=y.call(ae.ownerDocument);while(ae.firstChild){ag.appendChild(ae.firstChild)}}else{ag=ae}if(b){ag=W.call(C,ag,true)}return ag}return G?ae.outerHTML:ae.innerHTML};J.addHook=function(af,ae){if(typeof ae!=="function"){return}h[af]=h[af]||[];h[af].push(ae)};J.removeHook=function(ae){if(h[ae]){h[ae].pop()}};J.removeHooks=function(ae){if(h[ae]){h[ae]=[]}};J.removeAllHooks=function(){h=[]};return J}));